{
  "version": "0.1.0",
  "name": "titlereg",
  "metadata": {
    "address": "GNiHMQxQZwT1u3vKs3z5Nq5RjYjThoeFhD5EUQ6ZL1Y3"
  },
  "instructions": [
    {
      "name": "InitializeRegistration",
      "docs": ["Initialize a new land registration with all details and IPFS hashes"],
      "accounts": [
        {
          "name": "registration",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "authority",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "registrationId",
          "type": "string"
        },
        {
          "name": "surveyNumber",
          "type": "string"
        },
        {
          "name": "plotNumber",
          "type": "string"
        },
        {
          "name": "village",
          "type": "string"
        },
        {
          "name": "taluka",
          "type": "string"
        },
        {
          "name": "district",
          "type": "string"
        },
        {
          "name": "state",
          "type": "string"
        },
        {
          "name": "pincode",
          "type": "string"
        },
        {
          "name": "propertyType",
          "type": "string"
        },
        {
          "name": "area",
          "type": "string"
        },
        {
          "name": "areaUnit",
          "type": "string"
        },
        {
          "name": "transactionType",
          "type": "string"
        },
        {
          "name": "considerationAmount",
          "type": "string"
        },
        {
          "name": "stampDuty",
          "type": "string"
        },
        {
          "name": "registrationFee",
          "type": "string"
        },
        {
          "name": "saleAgreementDate",
          "type": "string"
        },
        {
          "name": "sellerName",
          "type": "string"
        },
        {
          "name": "sellerFatherName",
          "type": "string"
        },
        {
          "name": "buyerName",
          "type": "string"
        },
        {
          "name": "buyerFatherName",
          "type": "string"
        },
        {
          "name": "documentsIpfsHash",
          "type": "string"
        },
        {
          "name": "photosIpfsHash",
          "type": "string"
        }
      ]
    },
    {
      "name": "UpdateStatus",
      "docs": ["Update the status of an existing registration (0=pending, 1=active, 2=verified)"],
      "accounts": [
        {
          "name": "registration",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "authority",
          "isMut": false,
          "isSigner": true
        }
      ],
      "args": [
        {
          "name": "status",
          "type": "u8"
        }
      ]
    },
    {
      "name": "UpdateDocumentsCid",
      "docs": ["Update the IPFS CID for documents manifest"],
      "accounts": [
        {
          "name": "registration",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "authority",
          "isMut": false,
          "isSigner": true
        }
      ],
      "args": [
        {
          "name": "cid",
          "type": "string"
        }
      ]
    },
    {
      "name": "UpdatePhotosCid",
      "docs": ["Update the IPFS CID for photos manifest"],
      "accounts": [
        {
          "name": "registration",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "authority",
          "isMut": false,
          "isSigner": true
        }
      ],
      "args": [
        {
          "name": "cid",
          "type": "string"
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "RegistrationAccount",
      "docs": ["Account data structure for land registration"],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "initialized",
            "docs": ["Flag indicating if account is initialized (1) or not (0)"],
            "type": "u8"
          },
          {
            "name": "authority",
            "docs": ["Public key of the authority who created this registration"],
            "type": "publicKey"
          },
          {
            "name": "registrationId",
            "docs": ["Unique registration ID (e.g., REG-2025-001)"],
            "type": "string"
          },
          {
            "name": "surveyNumber",
            "docs": ["Survey number of the property"],
            "type": "string"
          },
          {
            "name": "plotNumber",
            "docs": ["Plot number of the property"],
            "type": "string"
          },
          {
            "name": "village",
            "docs": ["Village name where property is located"],
            "type": "string"
          },
          {
            "name": "taluka",
            "docs": ["Taluka (tehsil) where property is located"],
            "type": "string"
          },
          {
            "name": "district",
            "docs": ["District where property is located"],
            "type": "string"
          },
          {
            "name": "state",
            "docs": ["State where property is located"],
            "type": "string"
          },
          {
            "name": "pincode",
            "docs": ["PIN code of the property location"],
            "type": "string"
          },
          {
            "name": "propertyType",
            "docs": ["Type of property (e.g., Residential Plot, Agricultural Land)"],
            "type": "string"
          },
          {
            "name": "area",
            "docs": ["Area of the property"],
            "type": "string"
          },
          {
            "name": "areaUnit",
            "docs": ["Unit of area measurement (e.g., sqft, acres)"],
            "type": "string"
          },
          {
            "name": "transactionType",
            "docs": ["Type of transaction (e.g., Sale, Gift, Mortgage)"],
            "type": "string"
          },
          {
            "name": "considerationAmount",
            "docs": ["Consideration amount in rupees"],
            "type": "string"
          },
          {
            "name": "stampDuty",
            "docs": ["Stamp duty paid"],
            "type": "string"
          },
          {
            "name": "registrationFee",
            "docs": ["Registration fee paid"],
            "type": "string"
          },
          {
            "name": "saleAgreementDate",
            "docs": ["Date of sale agreement (YYYY-MM-DD)"],
            "type": "string"
          },
          {
            "name": "sellerName",
            "docs": ["Full name of the seller"],
            "type": "string"
          },
          {
            "name": "sellerFatherName",
            "docs": ["Father's name of the seller"],
            "type": "string"
          },
          {
            "name": "buyerName",
            "docs": ["Full name of the buyer"],
            "type": "string"
          },
          {
            "name": "buyerFatherName",
            "docs": ["Father's name of the buyer"],
            "type": "string"
          },
          {
            "name": "documentsIpfsHash",
            "docs": ["IPFS CID of JSON manifest containing all document hashes"],
            "type": "string"
          },
          {
            "name": "photosIpfsHash",
            "docs": ["IPFS CID of JSON manifest containing all photo hashes"],
            "type": "string"
          },
          {
            "name": "status",
            "docs": ["Registration status (0=pending, 1=active, 2=verified)"],
            "type": "u8"
          },
          {
            "name": "timestamp",
            "docs": ["Unix timestamp of registration creation"],
            "type": "i64"
          }
        ]
      }
    }
  ],
  "errors": [
    {
      "code": 100,
      "name": "NotInitialized",
      "msg": "Account not initialized"
    },
    {
      "code": 101,
      "name": "Unauthorized",
      "msg": "Unauthorized: Only the registration authority can perform this action"
    }
  ],
  "types": [
    {
      "name": "TitleRegInstruction",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "InitializeRegistration",
            "fields": [
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string",
              "string"
            ]
          },
          {
            "name": "UpdateStatus",
            "fields": ["u8"]
          },
          {
            "name": "UpdateDocumentsCid",
            "fields": ["string"]
          },
          {
            "name": "UpdatePhotosCid",
            "fields": ["string"]
          }
        ]
      }
    }
  ]
}

